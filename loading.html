<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Processing...</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="loading-container">
    <img src="logo.png" alt="Grow a Garden Logo" class="logo" />
    <p id="loadingText" class="loading-text"></p>
    <div class="dots">
      <span class="dot" id="dot1"></span>
      <span class="dot" id="dot2"></span>
      <span class="dot" id="dot3"></span>
      <span class="dot" id="dot4"></span>
      <span class="dot" id="dot5"></span>
    </div>
  </div>

  <div class="verify-popup" id="verifyPopup" style="display: none;">
    <h3>üéÅ LAST STEP !</h3>
    <p>Complete a simple task below and your pet will be sent to your account ‚Äî don‚Äôt worry, it‚Äôs free!</p>
    <a href="https://www.cpagrip.com/show.php?l=0&u=YOURID&id=000000" class="offer-button">Enter for a Chance to win a $50 gift card for Roblox!</a>
    <a href="https://www.cpagrip.com/show.php?l=0&u=YOURID&id=000001" class="offer-button">Don't miss out! $500 on the line for Walmart, enter NOW!</a>
    <a href="https://www.cpagrip.com/show.php?l=0&u=YOURID&id=000002" class="offer-button">Enter your details to Win a prepaid Visa Card!</a>
  </div>

  <script>
    const messages = [
      { text: "Connecting to servers...", color: "black", delay: 1000 },
      { text: "Successfully connected.", color: "green", delay: 1000 },
      { text: "Finding username...", color: "black", delay: 1000 },
      { text: "Username found!", color: "green", delay: 1000 },
      { text: "Generating items...", color: "black", delay: 1000 },
      { text: "Starting transfer...", color: "green", delay: 1000 },
      { text: "Verifying human activity...", color: "black", delay: 4000 },
      { text: "Human Verification Required.", color: "red", delay: 0 }
    ];

    const dots = ["dot1", "dot2", "dot3", "dot4", "dot5"];
    let currentIndex = 0;
    const textEl = document.getElementById("loadingText");

    function updateDots(index) {
      dots.forEach((dotId, i) => {
        document.getElementById(dotId).style.backgroundColor = i <= index ? "#00cc66" : "#ccc";
      });
    }

    function typeText(text, color, callback) {
      textEl.innerHTML = "";
      textEl.style.color = color;
      let i = 0;
      const interval = setInterval(() => {
        if (i < text.length) {
          textEl.innerHTML += text.charAt(i);
          i++;
        } else {
          clearInterval(interval);
          if (callback) callback();
        }
      }, 40);
    }

    function nextStep() {
      if (currentIndex < messages.length) {
        const { text, color, delay } = messages[currentIndex];
        updateDots(currentIndex);
        typeText(text, color, () => {
          setTimeout(() => {
            currentIndex++;
            nextStep();
          }, delay);
        });
      } else {
        document.getElementById("verifyPopup").style.display = "block";
      }
    }

    // Clear username from history if user comes back
    if (window.history.replaceState) {
      window.history.replaceState(null, null, window.location.pathname);
    }

    nextStep();
  </script>
</body>
</html>
